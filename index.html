<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Ifirmata.github.io : Wabsite" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>iFirmata</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/iFirmata/iFirmata">View on GitHub</a>

          <h1 id="project_title">iFirmata</h1>
          <h2 id="project_tagline">Firmata class and host implementation for idevices</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

        <h3>Description</h3>

        <p>A basic firmata host implmentation for idevices over BLE. Includes a firmata host implementation that allows you to test your firmata setup and do some basic operations.</p>

        <p>Currently supports the <a href="http://www.seeedstudio.com/depot/xadow-ble-slave-p-1546.html">Seeed Studio Xadow BLE device</a> as well as the <a href="http://redbearlab.com/bleshield/">Redbear</a> device. Should support many other devices with few changes.The Xadow is a Leonardo style arduino part. It was necessary to change the StandardFirmata class to use Serial1 instead of Serial.</p>

        <p>Important: This project requires a Bluetooth LE Capable Device (iPhone 4s and later; iPad 3 and later; iPod Touch 5; iPad mini) and will not work on the simulator.</p>

        <p>BUILD REQUIREMENTS:</p>
        <ul>
          <li>Xcode 5 or greater</li>
          <li>iOS 7 SDK or greater</li>
        </ul>

        <p>RUNTIME REQUIREMENTS:<p>
        <ul>
          <li>iOS 6 or later Bluetooth LE Capable Device Bluetooth LE Sensor/s</li>
        </ul>

        <h3>Install it the hard way</h3>
        <p>A dependancy of this code is the OpenBLE cocoapod to manage your Ble service

        <p>Download <a href="https://github.com/iFirmata/iFirmata">iFirmata</a> and <a href="https://github.com/OpenBLE/OpenBLE">OpenBLE</a> and copy everything in /Classes into your xcode project. Or more preferrably use <a href="http://beta.cocoapods.org/?q=">cocoapods</a> to get both at the same time.</p>

        <h3>Install it via Cocoapods</h3>
        <p>Create a new xcode project or workspace or go to your existing, open a terminal in that directory, and type:</p>

        <pre><code>sudo gem install cocoapods
touch Podfile
echo -e "platform :ios, '5.0'\npod 'iFirmata'" >> Podfile
pod install</code></pre>

        <p>It should complete and tell you to utilize the .xcworkspace from now on. 

        <h3>Use it</h3>
        <p>Click on that xcworkspace file to open your project from now on and youll find your project with the source code all loaded up. Now you can:</p>

        <pre><code>#import "Firmata.h"</code></pre>

        <p>And have your class register as a Firmata protocol:</p>

        <pre><code>@interface DetailViewController : UIViewController  &#60;FirmataProtocol&#62;

@end</code></pre>

        <p>See the OpenBLE cocoapod to see how to scan and connect to a bluetooth service with read and write characteristics. 
        Then you can init a firmata object with it:</p>

        <pre><code>Firmata *currentFirmata = [[Firmata alloc] initWithService:service controller:dest];</code></pre>

        <p>And make some sort of call like analog mapping query to find all the:</p>
        <pre><code>[currentFirmata analogMappingQuery];</code></pre>

        <p>When the BLE returns to firmata, it will parse it and return a delegate so set up a delegate function:</p>

        <pre><code>- (void) didUpdateAnalogMapping:(NSMutableDictionary *)analogMapping
{
    for (NSString* key in analogMapping) {
      NSLog(@"key: %@ value: %@", key, [analogMapping objectForKey:key]);
    }
}</code></pre>

        <h3>Example app</h3>
        <p>Open the example app in /examples for a much more thorough implementation example. It  lists bluetooth devices, connects, and when it recieves read and write characteristics segues to a screen where you set pin modes, set or read pins, control servos and pwm and even send i2c data.</p>

        <img style="width: 20%;" src="images/scanner.png"/><img style="width: 20%;" src="images/detail.png"/><img style="width: 20%;" src="images/pinmode.png"/><img style="width: 20%;" src="images/digital.png"/><img style="width: 20%;" src="images/servo.png"/><img style="width: 20%;" src="images/i2c.png"/>

        <h3><a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>

        <p>Use the github issues queue <a href="https://github.com/iFirmata/iFirmata/issues">https://github.com/iFirmata/iFirmata/issues</a> to report bugs or contribute code.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
